<!DOCTYPE html><html lang="ko"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta name="generator" content="Gatsby 2.15.28"/><link rel="preconnect dns-prefetch" href="https://www.google-analytics.com"/><title data-react-helmet="true">Gatsby로 개인 웹사이트 만들기 - Layout</title><meta data-react-helmet="true" name="description" content="styled-component를 사용해서 Layout을 만들어 본다"/><meta data-react-helmet="true" name="author" content="spriteye"/><meta data-react-helmet="true" name="keywords" content="gatsby,styled-components"/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" property="og:title" content="Gatsby로 개인 웹사이트 만들기 - Layout"/><meta data-react-helmet="true" property="og:description" content="styled-component를 사용해서 Layout을 만들어 본다"/><meta data-react-helmet="true" property="og:image" content="https://spriteye.me/images/me.png}"/><meta data-react-helmet="true" property="og:url" content="https://spriteye.me/posts/2019/09/gatsby-layout/"/><style type="text/css">.gatsby-resp-image-image{width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;color:transparent;}</style><style data-styled="ctIWgh bEsBEI eCImOz hAVzgF doxxjv cfSpMM grIbtv bzDKOM bWPXVt eCoySK lhNTDy ePjZxx djSKju exCcMZ bjXOBg ktKfKU" data-styled-version="4.4.0">
/* sc-component-id: MarginalContainer-sc-1h1qnpk-0 */
.bEsBEI{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;width:50rem;margin:auto;padding:0 1.2rem;}
/* sc-component-id: Footer__StyledFooter-xvwxs0-0 */
.lhNTDy{position:fixed;bottom:0;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;width:100vw;height:2.5rem;font-size:0.75em;background-color:white;border-top:1px solid #eee;-webkit-transition:bottom 0.4s ease,color 0.2s ease-out 0s,background 0.2s ease-out 0s;transition:bottom 0.4s ease,color 0.2s ease-out 0s,background 0.2s ease-out 0s;} @media (max-width:500px){.lhNTDy.hide{bottom:-2.5rem;}}
/* sc-component-id: Footer__StyledContactList-xvwxs0-1 */
.ePjZxx{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}
/* sc-component-id: Footer__StyledContact-xvwxs0-2 */
.djSKju{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;width:1.85rem;font-size:1.2rem;opacity:.5;} .djSKju:hover{opacity:1;}
/* sc-component-id: Footer__StyledMe-xvwxs0-3 */
.exCcMZ{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;width:1.85rem;opacity:.5;} .exCcMZ:hover{opacity:1;}
/* sc-component-id: ThemeSwitch__StyledIcon-sc-1l2fsvg-0 */
.hAVzgF{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;height:100%;color:yellow;font-size:1rem;}
/* sc-component-id: Header__StyledHeader-pnpkze-0 */
.ctIWgh{position:-webkit-sticky;position:sticky;top:0;z-index:1000;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:3.5rem;background-color:white;border-bottom:1px solid #eee;-webkit-transition:top 0.4s ease,color 0.2s ease-out 0s,background 0.2s ease-out 0s;transition:top 0.4s ease,color 0.2s ease-out 0s,background 0.2s ease-out 0s;} @media (max-width:500px){.ctIWgh.hide{top:-3.5rem;}}
/* sc-component-id: Header__StyledTitle-pnpkze-1 */
.eCImOz{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;color:hotpink;font-size:1.8rem;font-family:Monoton,sans-serif;}
/* sc-component-id: Main__StyledMain-sc-1hgigmz-0 */
.doxxjv{margin-bottom:2.5rem;}
/* sc-component-id: sc-global-577129100 */
@import url(//spoqa.github.io/spoqa-han-sans/css/SpoqaHanSans-kr.css); @import url(//fonts.googleapis.com/css?family=Monoton|Nanum+Gothic&display=swap); html{line-height:1.15;-webkit-text-size-adjust:100%;text-size-adjust:100%;} body{margin:0;} h1{font-size:2em;margin:0.67em 0;} hr{box-sizing:content-box;height:0;overflow:visible;} pre{font-family:monospace,monospace;font-size:1em;} a{background-color:transparent;} abbr[title]{border-bottom:none;-webkit-text-decoration:underline;text-decoration:underline;} b,strong{font-weight:bolder;} code,kbd,samp{font-family:monospace,monospace;font-size:1em;} small{font-size:80%;} sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline;} sub{bottom:-0.25em;} sup{top:-0.5em;} img{border-style:none;} button,input,optgroup,select,textarea{font-family:inherit;font-size:100%;line-height:1.15;margin:0;} button,input{overflow:visible;} button,select{text-transform:none;} button,html [type="button"],[type="reset"],[type="submit"]{-webkit-appearance:button;} button::-moz-focus-inner,[type="button"]::-moz-focus-inner,[type="reset"]::-moz-focus-inner,[type="submit"]::-moz-focus-inner{border-style:none;padding:0;} button:-moz-focusring,[type="button"]:-moz-focusring,[type="reset"]:-moz-focusring,[type="submit"]:-moz-focusring{outline:1px dotted ButtonText;} fieldset{padding:0.35em 0.625em 0.75em;} legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal;} progress{vertical-align:baseline;} textarea{overflow:auto;} [type="checkbox"],[type="radio"]{box-sizing:border-box;padding:0;} [type="number"]::-webkit-inner-spin-button,[type="number"]::-webkit-outer-spin-button{height:auto;} [type="search"]{-webkit-appearance:textfield;outline-offset:-2px;} [type="search"]::-webkit-search-decoration{-webkit-appearance:none;} ::-webkit-file-upload-button{-webkit-appearance:button;font:inherit;} details{display:block;} summary{display:list-item;} template{display:none;} [hidden]{display:none;} abbr[title]{-webkit-text-decoration:underline dotted;text-decoration:underline dotted;} body{color:#2E3440;font-weight:300;font-size:17px;font-family:'Spoqa Han Sans','Nanum Gothic',sans-serif;line-height:1.5;word-break:keep-all;background-color:white;-webkit-transition:color 0.2s ease-out 0s,background 0.2s ease-out 0s;transition:color 0.2s ease-out 0s,background 0.2s ease-out 0s;} a{color:#2E3440;-webkit-text-decoration:none;text-decoration:none;} p{margin-top:0;margin-right:0;margin-bottom:1em;margin-left:0;padding:0;}
/* sc-component-id: Template__StyledArticle-sc-1h9qsd1-0 */
.cfSpMM{max-width:50rem;margin:auto;padding:1rem 1.5rem;}
/* sc-component-id: Template__StyledArticleHeader-sc-1h9qsd1-1 */
.grIbtv{margin-bottom:2em;}
/* sc-component-id: Template__StyledArticleTitle-sc-1h9qsd1-2 */
.bzDKOM{margin-top:0;margin-bottom:.3em;font-size:2em;}
/* sc-component-id: Template__StyledArticleDate-sc-1h9qsd1-3 */
.bWPXVt{font-weight:300;font-size:0.8em;}
/* sc-component-id: Template__StyledContent-sc-1h9qsd1-4 */
.eCoySK h1,.eCoySK h2,.eCoySK h3,.eCoySK h4{margin-top:1.5em;margin-bottom:.5em;} .eCoySK h2{font-size:1.5em;} .eCoySK h3{font-size:1.25em;} .eCoySK h4{margin-top:.5em;font-weight:bold;} .eCoySK a{-webkit-text-decoration:underline;text-decoration:underline;} .eCoySK a:hover{-webkit-text-decoration-style:double;text-decoration-style:double;} .eCoySK ul,.eCoySK ol{margin-top:0;margin-bottom:.5em;padding-left:2em;} .eCoySK ul p,.eCoySK ol p{margin:0;} .eCoySK blockquote{font-style:italic;background-color:#fff;border-left:0.2em solid rgba(94,129,172,0.6);margin-top:0;margin-right:-1.5em;margin-bottom:1.5em;margin-left:-1.5em;padding-top:0;padding-right:0;padding-bottom:0;padding-left:1.5em;} .eCoySK blockquote p{margin:0;padding:0;} .eCoySK .footnotes{margin-top:2em;font-size:.8em;} .eCoySK .footnotes hr{margin-left:0;border:none;border-top:1px dashed silver;} .eCoySK .footnotes ol{padding-left:1em;} .eCoySK .gatsby-highlight{margin-top:0;margin-right:-1.5rem;margin-bottom:1.5rem;margin-left:-1.5rem;color:#D8DEE9;font-size:0.8em;background:#2E3440;border:1px solid #E5E9F0;border-radius:.4em;} .eCoySK .gatsby-highlight pre{margin-top:0;margin-right:0;margin-bottom:0;margin-left:0;overflow:scroll;} .eCoySK .gatsby-highlight pre code{display:block;padding:1em 1.5em .5em;line-height:1.5;} .eCoySK .gatsby-highlight pre::-webkit-scrollbar{width:0;height:.5rem;} .eCoySK .gatsby-highlight pre::-webkit-scrollbar-thumb{background:#4C566A;border-radius:.4em;} .eCoySK .gatsby-highlight pre::-webkit-scrollbar-track{background:#2E3440;border-radius:.4em;} .eCoySK .gatsby-code-title{margin-top:0;margin-right:-1.5rem;margin-bottom:0;margin-left:-1.5rem;padding:1em 1.5em;color:#D8DEE9;font-size:0.85em;background:#2E3440;border:1px solid #E5E9F0;border-radius:.4em .4em 0 0;} .eCoySK .gatsby-code-title + .gatsby-highlight{border-top-style:none;border-radius:0 0 .4em .4em;} .eCoySK code[class*="language-"],.eCoySK pre[class*="language-"]{padding:.5em 0em;} .eCoySK code[class="language-text"]{padding:.2em .4em;color:#2E3440;font-size:0.85em;background:#E5E9F0;border-radius:.3em;} .eCoySK .gatsby-highlight-code-line{display:block;margin-top:0;margin-right:-1.5em;margin-bottom:0;margin-left:-1.5em;padding-right:1em;padding-left:1.2em;background-color:rgba(67,76,94,0.8);border-left:0.3em solid #BF616A;} .eCoySK .token.keyword,.eCoySK .token.punctuation{color:#81A1C1;} .eCoySK .token.comment{color:#616E88;font-weight:500;} .eCoySK .token.string{color:#A3BE8C;} .eCoySK .token.function{color:#88C0D0;} .eCoySK .token.tag{color:#8FBCBB;} .eCoySK .token.number{color:#B48EAD;}
/* sc-component-id: Avatar__Container-sc-1h53re1-0 */
.bjXOBg{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;width:1.5rem;height:1.5rem;border-radius:50%;}
/* sc-component-id: Avatar__Image-sc-1h53re1-1 */
.ktKfKU{width:1.5rem;height:1.5rem;border-radius:50%;}</style><link as="script" rel="preload" href="/app-ac8c55ac60fed37a29be.js"/><link as="script" rel="preload" href="/component---src-components-post-template-tsx-baeb36fc5eed86ca142c.js"/><link as="script" rel="preload" href="/commons-0ffbd0dd2d12bd99b087.js"/><link as="script" rel="preload" href="/webpack-runtime-bbfc086a3cba8a10316b.js"/><link as="fetch" rel="preload" href="/page-data/posts/2019/09/gatsby-layout/page-data.json" crossorigin="anonymous"/></head><body><noscript id="gatsby-noscript">This app works best with JavaScript enabled.</noscript><div id="___gatsby"><div style="outline:none" tabindex="-1" role="group" id="gatsby-focus-wrapper"><header class="Header__StyledHeader-pnpkze-0 ctIWgh"><div class="MarginalContainer-sc-1h1qnpk-0 bEsBEI"><a class="Header__StyledTitle-pnpkze-1 eCImOz" href="/">spriteye</a><div style="position:relative;display:inline-block;text-align:left;opacity:1;direction:ltr;border-radius:12.5px;-webkit-transition:opacity 0.25s;-moz-transition:opacity 0.25s;transition:opacity 0.25s;touch-action:none;-webkit-tap-highlight-color:rgba(0, 0, 0, 0);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none"><div class="react-switch-bg" style="height:25px;width:50px;margin:0;position:relative;background:#0f1114;border-radius:12.5px;cursor:pointer;-webkit-transition:background 0.25s;-moz-transition:background 0.25s;transition:background 0.25s"><div style="height:25px;width:27px;position:relative;opacity:1;pointer-events:none;-webkit-transition:opacity 0.25s;-moz-transition:opacity 0.25s;transition:opacity 0.25s"><div class="ThemeSwitch__StyledIcon-sc-1l2fsvg-0 hAVzgF"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M277.3 32h-42.7v64h42.7V32zm129.1 43.7L368 114.1l29.9 29.9 38.4-38.4-29.9-29.9zm-300.8 0l-29.9 29.9 38.4 38.4 29.9-29.9-38.4-38.4zM256 128c-70.4 0-128 57.6-128 128s57.6 128 128 128 128-57.6 128-128-57.6-128-128-128zm224 106.7h-64v42.7h64v-42.7zm-384 0H32v42.7h64v-42.7zM397.9 368L368 397.9l38.4 38.4 29.9-29.9-38.4-38.4zm-283.8 0l-38.4 38.4 29.9 29.9 38.4-38.4-29.9-29.9zm163.2 48h-42.7v64h42.7v-64z"></path></svg></div></div><div style="height:25px;width:27px;position:absolute;opacity:0;right:0;top:0;pointer-events:none;-webkit-transition:opacity 0.25s;-moz-transition:opacity 0.25s;transition:opacity 0.25s"><div class="ThemeSwitch__StyledIcon-sc-1l2fsvg-0 hAVzgF"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M195 125c0-26.3 5.3-51.3 14.9-74.1C118.7 73 51 155.1 51 253c0 114.8 93.2 208 208 208 97.9 0 180-67.7 202.1-158.9-22.8 9.6-47.9 14.9-74.1 14.9-106 0-192-86-192-192z"></path></svg></div></div></div><div class="react-switch-handle" style="height:23px;width:23px;background:#ffffff;display:inline-block;cursor:pointer;border-radius:50%;position:absolute;transform:translateX(26px);top:1px;outline:0;border:0;-webkit-transition:background-color 0.25s, transform 0.25s, box-shadow 0.15s;-moz-transition:background-color 0.25s, transform 0.25s, box-shadow 0.15s;transition:background-color 0.25s, transform 0.25s, box-shadow 0.15s"></div><input type="checkbox" role="switch" style="border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px" checked=""/></div></div></header><main class="Main__StyledMain-sc-1hgigmz-0 doxxjv"><article class="Template__StyledArticle-sc-1h9qsd1-0 cfSpMM"><header class="Template__StyledArticleHeader-sc-1h9qsd1-1 grIbtv"><h1 class="Template__StyledArticleTitle-sc-1h9qsd1-2 bzDKOM">Gatsby로 개인 웹사이트 만들기 - Layout</h1><div class="Template__StyledArticleDate-sc-1h9qsd1-3 bWPXVt">September 27, 2019</div></header><section class="Template__StyledContent-sc-1h9qsd1-4 eCoySK"><p><a href="/posts/2019/09/gatsby-getting-started">지난 글</a>에서 프로젝트를 초기화해두었다. 각 페이지마다 변하지 않는 헤더와 푸터같은 컴포넌트가 반복적으로 나타나게 마련이다. 이번 글에서는 페이지마다 반복되는 코드 작성을 피하기 위해 Layout을 컴포넌트로 분리한다.</p>
<h2><a href="https://www.styled-components.com">styled-components</a></h2>
<p>styled-components의 공동 개발자 중 한 명인 <a href="https://twitter.com/mxstbr">Max Stoiber</a>는 styled-components의 기본 아이디어는 스타일과 컴포넌트 간의 연결을 제거함으로써 모범 사례를 강제하는 것<sup id="fnref-1"><a href="#fn-1" class="footnote-ref">1</a></sup>이라고 했다. 스타일을 컴포넌트에 캡슐화하고 이를 재사용하는 것이 이 모듈의 핵심이다. 편리하며, 직관적이다. 더 이상 CSS 이름 짓기, 방법론에 대해서 고민할 필요가 없다. 인기도 있다.<sup id="fnref-2"><a href="#fn-2" class="footnote-ref">2</a></sup> 이와 같은 이유로 개인 웹사이트 만들 때 사용할 CSS 모듈로 styled-components를 선택했다.</p>
<h2>스타일 초기화</h2>
<p>브라우저 별로 조금씩 다른 기본 스타일을 갖는다. <a href="https://necolas.github.io/normalize.css/"><code class="language-text">normalize.css</code></a>를 사용하면 브라우저 별 HTML 스타일의 일관성을 유지하도록 도와준다. <a href="https://github.com/styled-components/polished"><code class="language-text">polished</code></a>를 사용하면 styled-components의 <a href="https://www.styled-components.com/docs/api#createglobalstyle">글로벌 스타일 정의</a>에 normalize.css를 쓸 수 있다.</p>
<p>필요한 패키지를 설치해주자.</p>
<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash"><span class="token function">npm</span> i -E <span class="token punctuation">\</span>
  babel-plugin-styled-components <span class="token punctuation">\</span>
  gatsby-plugin-alias-imports <span class="token punctuation">\</span>
  gatsby-plugin-styled-components <span class="token punctuation">\</span>
  polished <span class="token punctuation">\</span>
  react-icons <span class="token punctuation">\</span>
  styled-components</code></pre></div>
<p>Gatsby 설정에 <a href="https://www.gatsbyjs.org/packages/gatsby-plugin-alias-imports/"><code class="language-text">gatsby-plugin-alias-imports</code></a>와 <a href="https://www.gatsbyjs.org/packages/gatsby-plugin-styled-components/"><code class="language-text">gatsby-plugin-styled-components</code></a>를 추가한다. <code class="language-text">gatsby-plugin-alias-imports</code> 플러그인은 src 하위의 컴포넌트를 import 할 때 상대 경로를 쓰지 않기 위해 사용한다.</p>
<div class="gatsby-code-title">gatsby-config.js</div>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
<span class="gatsby-highlight-code-line">  plugins<span class="token punctuation">:</span> <span class="token punctuation">[</span></span><span class="gatsby-highlight-code-line">    <span class="token punctuation">{</span></span><span class="gatsby-highlight-code-line">      resolve<span class="token punctuation">:</span> <span class="token string">'gatsby-plugin-alias-imports'</span><span class="token punctuation">,</span></span><span class="gatsby-highlight-code-line">      options<span class="token punctuation">:</span> <span class="token punctuation">{</span></span><span class="gatsby-highlight-code-line">        alias<span class="token punctuation">:</span> <span class="token punctuation">{</span></span><span class="gatsby-highlight-code-line">          <span class="token string">'~components'</span><span class="token punctuation">:</span> <span class="token string">'src/components'</span><span class="token punctuation">,</span></span><span class="gatsby-highlight-code-line">          <span class="token string">'~styles'</span><span class="token punctuation">:</span> <span class="token string">'src/styles'</span></span><span class="gatsby-highlight-code-line">        <span class="token punctuation">}</span><span class="token punctuation">,</span></span><span class="gatsby-highlight-code-line">        extensions<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span></span><span class="gatsby-highlight-code-line">      <span class="token punctuation">}</span></span><span class="gatsby-highlight-code-line">    <span class="token punctuation">}</span><span class="token punctuation">,</span></span><span class="gatsby-highlight-code-line">    <span class="token string">'gatsby-plugin-styled-components'</span></span><span class="gatsby-highlight-code-line">  <span class="token punctuation">]</span></span><span class="token punctuation">}</span></code></pre></div>
<p>글로벌 스타일을 정의한다. 메인 폰트는 <a href="https://spoqa.github.io/spoqa-han-sans/ko-KR/">스포카 한 산스</a>를 사용했으며, 타이틀의 적당한 스타일을 지정하기 위해 구글 폰트에서 <a href="https://fonts.google.com/specimen/Monoton">Monoton</a>을 골라봤다.</p>
<div class="gatsby-code-title">src/styles/GlobalStyle.js</div>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token keyword">import</span> <span class="token punctuation">{</span> normalize <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'polished'</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> createGlobalStyle <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'styled-components'</span>

<span class="token keyword">const</span> GlobalStyle <span class="token operator">=</span> createGlobalStyle<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
  @import url(//spoqa.github.io/spoqa-han-sans/css/SpoqaHanSans-kr.css);
  @import url(//fonts.googleapis.com/css?family=Monoton|Nanum+Gothic&amp;display=swap);

  </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token function">normalize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">

  body {
    color: #333;
    font-weight: 300;
    font-size: 17px;
    font-family: 'Spoqa Han Sans', 'Nanum Gothic', sans-serif;
    line-height: 1.5;
    word-break: keep-all;

    background-color: white;
  }

  a {
    color: #333;
    text-decoration: none;
  }
</span><span class="token template-punctuation string">`</span></span>

<span class="token keyword">export</span> <span class="token keyword">default</span> GlobalStyle</code></pre></div>
<h2>고정 영역 Header, Footer</h2>
<p>기본적으로 페이지마다 스크롤되어도 사라지지 않는 Header, Footer를 갖는 레이아웃을 구성한다.</p>
<p>Header, Footer 컴포넌트의 내용은 <code class="language-text">50rem</code> 넓이를 가지며 화면에서 중앙 정렬시켜야 한다. 또한 전체 넓이에서 <code class="language-text">border-bottom</code>, <code class="language-text">border-top</code>를 설정해야 한다. 때문에 Header, Footer 컴포넌트는 전체 넓이를 사용하고 내부 컨테이너의 넓이를 <code class="language-text">50rem</code>으로 사용했다. Header, Footer에 쓸 컨테이너 이름은 뭐로 할까 고민하다 <code class="language-text">MarginalContaner</code>라 명명했다. 참고로 컴포넌트의 네이밍은 <a href="https://hackernoon.com/structuring-projects-and-naming-components-in-react-1261b6e18d76">Structuring projects and naming components in React</a>의 Naming components 단락을 참고했다.</p>
<div class="gatsby-code-title">src/components/Layout/MarginalContainer.js</div>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token keyword">import</span> styled <span class="token keyword">from</span> <span class="token string">'styled-components'</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> styled<span class="token punctuation">.</span>div<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
  display: flex;
  align-items: center;
  justify-content: space-between;
  width: 50rem;
  margin: auto;
  padding: 0 1.2rem;
</span><span class="token template-punctuation string">`</span></span></code></pre></div>
<p>Header 컴포넌트에는 우선 타이틀만 지정한다.</p>
<div class="gatsby-code-title">src/components/Layout/Header.js</div>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token keyword">import</span> <span class="token punctuation">{</span> Link <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'gatsby'</span>
<span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span>
<span class="token keyword">import</span> styled <span class="token keyword">from</span> <span class="token string">'styled-components'</span>

<span class="token keyword">import</span> LayoutMarginalContainer <span class="token keyword">from</span> <span class="token string">'~components/Layout/MarginalContainer'</span>

<span class="token keyword">const</span> StyledHeader <span class="token operator">=</span> styled<span class="token punctuation">.</span>header<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
  position: sticky;
  top: 0;
  z-index: 1000;

  display: flex;
  height: 3.5rem;

  background-color: white;
  border-bottom: 1px solid #eee;
</span><span class="token template-punctuation string">`</span></span>

<span class="token keyword">const</span> StyledTitle <span class="token operator">=</span> <span class="token function">styled</span><span class="token punctuation">(</span>Link<span class="token punctuation">)</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
  display: flex;

  color: hotpink;

  font-size: 1.8rem;
  font-family: Monoton, sans-serif;
</span><span class="token template-punctuation string">`</span></span>

<span class="token keyword">const</span> <span class="token function-variable function">Header</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span>
  <span class="token operator">&lt;</span>StyledHeader<span class="token operator">></span>
    <span class="token operator">&lt;</span>LayoutMarginalContainer<span class="token operator">></span>
      <span class="token operator">&lt;</span>StyledTitle to<span class="token operator">=</span><span class="token string">'/'</span><span class="token operator">></span>spriteye<span class="token operator">&lt;</span><span class="token operator">/</span>StyledTitle<span class="token operator">></span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>LayoutMarginalContainer<span class="token operator">></span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>StyledHeader<span class="token operator">></span>
<span class="token punctuation">)</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> Header</code></pre></div>
<p>Footer 컴포넌트에는 Copyright, 연락처, 내 소개 등의 링크를 추가한다.</p>
<div class="gatsby-code-title">src/components/Layout/Footer.js</div>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token keyword">import</span> <span class="token punctuation">{</span> Link <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'gatsby'</span>
<span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span>
<span class="token keyword">import</span> styled <span class="token keyword">from</span> <span class="token string">'styled-components'</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> GoMail<span class="token punctuation">,</span> GoMarkGithub <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react-icons/go'</span>

<span class="token keyword">import</span> Avatar <span class="token keyword">from</span> <span class="token string">'~components/Avatar'</span>
<span class="token keyword">import</span> LayoutMarginalContainer <span class="token keyword">from</span> <span class="token string">'~components/Layout/MarginalContainer'</span>

<span class="token keyword">const</span> StyledFooter <span class="token operator">=</span> styled<span class="token punctuation">.</span>footer<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
  position: fixed;
  bottom: 0;

  display: flex;
  width: 100vw;
  height: 2.5rem;

  font-size: 0.75em;

  background-color: white;
  border-top: 1px solid #eee;
</span><span class="token template-punctuation string">`</span></span>

<span class="token keyword">const</span> StyledContactList <span class="token operator">=</span> styled<span class="token punctuation">.</span>div<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
  display: flex;
  align-items: center;
</span><span class="token template-punctuation string">`</span></span>

<span class="token keyword">const</span> StyledContact <span class="token operator">=</span> styled<span class="token punctuation">.</span>a<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
  display: inline-flex;
  justify-content: center;
  width: 1.85rem;

  font-size: 1.2rem;

  opacity: .5;

  &amp;:hover {
    opacity: 1;
  }
</span><span class="token template-punctuation string">`</span></span>

<span class="token keyword">const</span> StyledMe <span class="token operator">=</span> <span class="token function">styled</span><span class="token punctuation">(</span>Link<span class="token punctuation">)</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
  display: inline-flex;
  justify-content: center;
  width: 1.85rem;

  opacity: .5;

  &amp;:hover {
    opacity: 1;
  }
</span><span class="token template-punctuation string">`</span></span>

<span class="token keyword">const</span> <span class="token function-variable function">Footer</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span>
  <span class="token operator">&lt;</span>StyledFooter<span class="token operator">></span>
    <span class="token operator">&lt;</span>LayoutMarginalContainer<span class="token operator">></span>
      © <span class="token number">2019</span> Hwangmok Cho
      <span class="token operator">&lt;</span>StyledContactList<span class="token operator">></span>
        <span class="token operator">&lt;</span>StyledContact
          href<span class="token operator">=</span><span class="token string">'https://github.com/spriteye'</span>
          title<span class="token operator">=</span><span class="token string">'GitHub'</span>
        <span class="token operator">></span>
          <span class="token operator">&lt;</span>GoMarkGithub <span class="token operator">/</span><span class="token operator">></span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>StyledContact<span class="token operator">></span>
        <span class="token operator">&lt;</span>StyledContact
          href<span class="token operator">=</span><span class="token string">'mailto:spriteye@gmail.com'</span>
          title<span class="token operator">=</span><span class="token string">'spriteye@gmail.com'</span>
        <span class="token operator">></span>
          <span class="token operator">&lt;</span>GoMail <span class="token operator">/</span><span class="token operator">></span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>StyledContact<span class="token operator">></span>
        <span class="token operator">&lt;</span>StyledContact
          href<span class="token operator">=</span><span class="token string">'https://www.buymeacoffee.com/mNtBzyAFU'</span>
          title<span class="token operator">=</span><span class="token string">'Buy me a coffee'</span>
        <span class="token operator">></span>
          <span class="token operator">&lt;</span>img
            src<span class="token operator">=</span><span class="token string">'https://bmc-cdn.nyc3.digitaloceanspaces.com/BMC-button-images/BMC-btn-logo.svg'</span>
            alt<span class="token operator">=</span><span class="token string">'Buy me a coffee'</span>
          <span class="token operator">/</span><span class="token operator">></span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>StyledContact<span class="token operator">></span>
        <span class="token operator">&lt;</span>StyledMe
          to<span class="token operator">=</span><span class="token string">'/about'</span>
          title<span class="token operator">=</span><span class="token string">'About me'</span>
        <span class="token operator">></span>
          <span class="token operator">&lt;</span>Avatar <span class="token operator">/</span><span class="token operator">></span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>StyledMe<span class="token operator">></span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>StyledContactList<span class="token operator">></span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>LayoutMarginalContainer<span class="token operator">></span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>StyledFooter<span class="token operator">></span>
<span class="token punctuation">)</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> Footer</code></pre></div>
<p>콘텐츠가 들어갈 Main 컴포넌트를 만든다. Main 컴포넌트 내부에서도 전체 넓이를 사용할 수 있으므로 딱히 다른 옵션은 두지 않았다.</p>
<div class="gatsby-code-title">src/components/Layout/Main.js</div>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span>
<span class="token keyword">import</span> styled <span class="token keyword">from</span> <span class="token string">'styled-components'</span>

<span class="token keyword">const</span> StyledMain <span class="token operator">=</span> styled<span class="token punctuation">.</span>main<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
  margin-bottom: 2.5rem;
</span><span class="token template-punctuation string">`</span></span>

<span class="token keyword">const</span> <span class="token function-variable function">Main</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> children <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span>
  <span class="token operator">&lt;</span>StyledMain<span class="token operator">></span>
    <span class="token punctuation">{</span>children<span class="token punctuation">}</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>StyledMain<span class="token operator">></span>
<span class="token punctuation">)</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> Main</code></pre></div>
<p>각 컴포넌트를 조합해서 Layout을 만든다.</p>
<div class="gatsby-code-title">src/components/Layout/index.js</div>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span>

<span class="token keyword">import</span> LayoutFooter <span class="token keyword">from</span> <span class="token string">'~components/Layout/Footer'</span>
<span class="token keyword">import</span> LayoutHeader <span class="token keyword">from</span> <span class="token string">'~components/Layout/Header'</span>
<span class="token keyword">import</span> LayoutMain <span class="token keyword">from</span> <span class="token string">'~components/Layout/Main'</span>
<span class="token keyword">import</span> GlobalStyle <span class="token keyword">from</span> <span class="token string">'~styles/GlobalStyle'</span>

<span class="token keyword">const</span> <span class="token function-variable function">Layout</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> children <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span>
  <span class="token operator">&lt;</span><span class="token operator">></span>
    <span class="token operator">&lt;</span>GlobalStyle <span class="token operator">/</span><span class="token operator">></span>
    <span class="token operator">&lt;</span>LayoutHeader <span class="token operator">/</span><span class="token operator">></span>
    <span class="token operator">&lt;</span>LayoutMain<span class="token operator">></span>
      <span class="token punctuation">{</span>children<span class="token punctuation">}</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>LayoutMain<span class="token operator">></span>
    <span class="token operator">&lt;</span>LayoutFooter <span class="token operator">/</span><span class="token operator">></span>
  <span class="token operator">&lt;</span><span class="token operator">/</span><span class="token operator">></span>
<span class="token punctuation">)</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> Layout</code></pre></div>
<p>마지막으로 메인 페이지를 Layout으로 감싼다.</p>
<div class="gatsby-code-title">src/pages/index.js</div>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span>

<span class="gatsby-highlight-code-line"><span class="token keyword">import</span> Layout <span class="token keyword">from</span> <span class="token string">'~components/Layout'</span></span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span>
<span class="gatsby-highlight-code-line">  <span class="token operator">&lt;</span>Layout<span class="token operator">></span></span>    Hello Gatsby<span class="token operator">!</span>
<span class="gatsby-highlight-code-line">  <span class="token operator">&lt;</span><span class="token operator">/</span>Layout<span class="token operator">></span></span><span class="token punctuation">)</span></code></pre></div>
<p>완성된 레이아웃 화면은 다음과 같다. </p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 800px;"
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/c143d0bcd7751bf35b89d6738c8244af/72199/01-with-layout.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 47.5957620211899%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAnElEQVQoz62S2wrCMBBE8/9fKIoFKyJq2tQ2aEOSPb1opX2TtANDdl4mZ0MUOw37ArISDv18foIIqVL+qPGZJuYGySvk1iAx9p2SZFU0Fdfizsu78QYZLemFEvshfgKTV0jNQyrVknAWptJVhFtQLQjn624hFb9fJOUNQwg/u7YleI8yxjBYaz2ezrm/ygfVdU1ZGqyteFxOvK2lA7j/F244yiQaAAAAAElFTkSuQmCC'); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="01 with layout"
        title="01 with layout"
        src="/static/c143d0bcd7751bf35b89d6738c8244af/8ff1e/01-with-layout.png"
        srcset="/static/c143d0bcd7751bf35b89d6738c8244af/9ec3c/01-with-layout.png 200w,
/static/c143d0bcd7751bf35b89d6738c8244af/c7805/01-with-layout.png 400w,
/static/c143d0bcd7751bf35b89d6738c8244af/8ff1e/01-with-layout.png 800w,
/static/c143d0bcd7751bf35b89d6738c8244af/6ff5e/01-with-layout.png 1200w,
/static/c143d0bcd7751bf35b89d6738c8244af/72199/01-with-layout.png 1227w"
        sizes="(max-width: 800px) 100vw, 800px"
        loading="lazy"
      />
  </a>
    </span></p>
<p><a href="/posts/2019/10/gatsby-hide-marginals">다음 글</a>에서는 아래로 스크롤할 때 Header, Footer 컴포넌트를 감추는 작업을 진행한다.</p>

      <div class="footnotes">
        <hr/>
        <ol>
    
      <li id="fn-1">
        <p style="display:inline;"><a href="https://www.smashingmagazine.com/2017/01/styled-components-enforcing-best-practices-component-based-systems/">Styled Components: Enforcing Best Practices In Component-Based Systems</a></p>
      <a href="#fnref-1" class="footnote-backref" style="display:inline;">
        ↩
      </a>
    
      </li>
    

      <li id="fn-2">
        <p style="display:inline;"><a href="https://www.npmtrends.com/jss-vs-aphrodite-vs-radium-vs-styled-components-vs-glamorous-vs-emotion-vs-styletron">CSS-in-JS 모듈들의 npm 트랜드</a></p>
      <a href="#fnref-2" class="footnote-backref" style="display:inline;">
        ↩
      </a>
    
      </li>
    </ol></div></section></article></main><footer class="Footer__StyledFooter-xvwxs0-0 lhNTDy"><div class="MarginalContainer-sc-1h1qnpk-0 bEsBEI">© 2019 Hwangmok Cho<div class="Footer__StyledContactList-xvwxs0-1 ePjZxx"><a href="https://github.com/spriteye" title="GitHub" class="Footer__StyledContact-xvwxs0-2 djSKju"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z"></path></svg></a><a href="mailto:spriteye@gmail.com" title="spriteye@gmail.com" class="Footer__StyledContact-xvwxs0-2 djSKju"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 14 16" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M0 4v8c0 .55.45 1 1 1h12c.55 0 1-.45 1-1V4c0-.55-.45-1-1-1H1c-.55 0-1 .45-1 1zm13 0L7 9 1 4h12zM1 5.5l4 3-4 3v-6zM2 12l3.5-3L7 10.5 8.5 9l3.5 3H2zm11-.5l-4-3 4-3v6z"></path></svg></a><a href="https://www.buymeacoffee.com/mNtBzyAFU" title="Buy me a coffee" class="Footer__StyledContact-xvwxs0-2 djSKju"><img src="https://bmc-cdn.nyc3.digitaloceanspaces.com/BMC-button-images/BMC-btn-logo.svg" alt="Buy me a coffee"/></a><a title="About me" class="Footer__StyledMe-xvwxs0-3 exCcMZ" href="/about"><div class="Avatar__Container-sc-1h53re1-0 bjXOBg"><img alt="Hwangmok Cho" src="/images/me.png" class="Avatar__Image-sc-1h53re1-1 ktKfKU"/></div></a></div></div></footer></div></div><script>
  
  
  if(true) {
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  }
  if (typeof ga === "function") {
    ga('create', 'UA-64527672-1', 'auto', {});
      
      
      
      
      
      }</script><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/posts/2019/09/gatsby-layout/";window.webpackCompilationHash="61206e7f69254dac973d";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"app":["/app-ac8c55ac60fed37a29be.js"],"component---src-components-post-template-tsx":["/component---src-components-post-template-tsx-baeb36fc5eed86ca142c.js"],"component---src-pages-about-tsx":["/component---src-pages-about-tsx-4597124b4d43135b46b1.js"],"component---src-pages-index-tsx":["/component---src-pages-index-tsx-ed108fdfd3dc712f20bf.js"]};/*]]>*/</script><script src="/webpack-runtime-bbfc086a3cba8a10316b.js" async=""></script><script src="/commons-0ffbd0dd2d12bd99b087.js" async=""></script><script src="/component---src-components-post-template-tsx-baeb36fc5eed86ca142c.js" async=""></script><script src="/app-ac8c55ac60fed37a29be.js" async=""></script></body></html>